import{_ as I,w as P,u as U,a as G,r as b,c as z,o as c,b as h,d as i,e as g,f as x,g as w,t as L,F as N,n as S,h as s,N as A,i as B,j as V}from"./entry-21db2f40.mjs";import{u as D,N as F}from"./Pagination-2bc07178.mjs";import{_ as j,a as q}from"./Tab-9b83bf34.mjs";import{_ as O}from"./PostList-576fe246.mjs";import{_ as E}from"./Group-1cd53dfb.mjs";import{_ as H}from"./HotCourseList-2391f2df.mjs";import{N as R,a as J}from"./Grid-87bc6c3f.mjs";import"./use-locale-d1b818a5.mjs";import"./use-merged-state-aa6f3d5b.mjs";import"./Input-16e77b41.mjs";import"./Popover-ea85df19.mjs";import"./get-bc1ef6a5.mjs";import"./next-frame-once-08317937.mjs";import"./Tag-06ce51bd.mjs";import"./create-f83f90a7.mjs";import"./Image-ec1fc6fc.mjs";import"./utils-4e919375.mjs";import"./Icon-8b068cec.mjs";import"./ThumbsUpSharp-92759cd9.mjs";import"./CourseList-311e2910.mjs";import"./Price-f7b39efa.mjs";import"./get-slot-f07f150d.mjs";const K={__name:"BbsTabs",async setup(v,{expose:d}){d();let e,t;const{data:o}=([e,t]=P(()=>U()),e=await e,t(),e),n=G(),a=b(parseInt(n.params.bbs_id)),p=z(()=>[{id:0,title:"\u5168\u90E8"},...o.value?o.value.rows:[]]);function r(l){S({params:{...n.params,bbs_id:l,page:1},query:{...n.query}})}const _={data:o,route:n,bbs_id:a,tabs:p,handleClick:r};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}};function M(v,d,e,t,o,n){const a=j,p=q;return c(),h(p,null,{default:i(()=>[(c(!0),g(N,null,x(t.tabs,(r,_)=>(c(),h(a,{key:_,active:r.id==t.bbs_id,onClick:l=>t.handleClick(r.id)},{default:i(()=>[w(L(r.title),1)]),_:2},1032,["active","onClick"]))),128))]),_:1})}var Q=I(K,[["render",M]]);const W={__name:"[page]",async setup(v,{expose:d}){d();let e,t;const o=G(),n=b(o.params.bbs_id),a=b(o.query.is_top),p=b(["\u6700\u65B0","\u7F6E\u9876"]),{page:r,limit:_,total:l,handlePageChange:y,rows:u,pending:m,error:k,refresh:C}=([e,t]=P(()=>D(({page:f,limit:et})=>V(()=>({page:f,bbs_id:n.value,is_top:a.value})))),e=await e,t(),e),T={route:o,bbs_id:n,is_top:a,ts:p,page:r,limit:_,total:l,handlePageChange:y,rows:u,pending:m,error:k,refresh:C,handleIsTop:f=>{S({params:{...o.params,page:1},query:{is_top:f}}),a.value=f,C()},NGrid:R,NGridItem:J,NButton:A,NPagination:F};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}},X={class:"bg-white rounded"},Y={class:"flex justify-center items-center mt-5 mb-10"},Z=w("\u53D1\u5E03\u5E16\u5B50");function $(v,d,e,t,o,n){const a=Q,p=j,r=q,_=O,l=E,y=H;return c(),g("div",null,[s(a),s(t.NGrid,{"x-gap":20},{default:i(()=>[s(t.NGridItem,{span:18},{default:i(()=>[s(l,{pending:t.pending,error:t.error,"is-empty":t.rows.length===0},{default:i(()=>[B("div",X,[s(r,null,{default:i(()=>[(c(!0),g(N,null,x(t.ts,(u,m)=>(c(),h(p,{key:m,active:t.is_top==m,onClick:k=>t.handleIsTop(m)},{default:i(()=>[w(L(u),1)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),(c(!0),g(N,null,x(t.rows,(u,m)=>(c(),h(_,{class:"bg-white rounded",key:m,item:u,showDel:!1},null,8,["item"]))),128)),B("div",Y,[s(t.NPagination,{size:"large",page:t.page,"item-count":t.total,"page-size":t.limit,"on-update:page":t.handlePageChange},null,8,["page","item-count","page-size","on-update:page"])])]),_:1},8,["pending","error","is-empty"])]),_:1}),s(t.NGridItem,{span:6},{default:i(()=>[s(t.NButton,{type:"primary",class:"mb-5 w-full"},{default:i(()=>[Z]),_:1}),s(y)]),_:1})]),_:1})])}var kt=I(W,[["render",$]]);export{kt as default};
