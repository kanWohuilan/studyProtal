import{_ as P,a as w,o as i,b,d as a,h as n,g as h,t as x,am as z,i as d,N as H,n as B,r as S,bq as j,w as L,e as y,F as C,f as k,cb as V}from"./entry-21db2f40.mjs";import{u as E,N as O}from"./Pagination-2bc07178.mjs";import{a as A,_ as F}from"./Tab-9b83bf34.mjs";import{_ as D,a as G,b as I}from"./index-1d09579b.mjs";import{N as R}from"./Progress-258a87c4.mjs";import{N as J}from"./Tag-06ce51bd.mjs";import{_ as K}from"./Group-1cd53dfb.mjs";import"./use-locale-d1b818a5.mjs";import"./use-merged-state-aa6f3d5b.mjs";import"./Input-16e77b41.mjs";import"./Popover-ea85df19.mjs";import"./get-bc1ef6a5.mjs";import"./next-frame-once-08317937.mjs";import"./create-f83f90a7.mjs";const M={__name:"HistoryList",props:{item:Object},setup(u,{expose:_}){_();const t=u,e=w(),o={props:t,route:e,t:{audio:"\u97F3\u9891",video:"\u89C6\u9891",media:"\u56FE\u6587",course:"\u8BFE\u7A0B",column:"\u4E13\u680F",book:"\u7535\u5B50\u4E66"},open:()=>{B(`/detail/${e.query.tab}/${t.item.id}`)},NButton:H,NProgress:R,NTag:J};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}},Q=d("span",{class:"mb-2 text-xs text-gray-400"}," \u5B66\u4E60\u8FDB\u5EA6 ",-1),W={class:"ml-3"},X=h("\u7EE7\u7EED\u89C2\u770B");function Y(u,_,t,e,r,c){const o=D,l=G,m=I;return i(),b(m,null,{default:a(()=>[n(o,null,{default:a(()=>[Q,n(e.NProgress,{type:"line",percentage:t.item.progress,"show-indicator":!1},null,8,["percentage"])]),_:1}),n(l,{class:"flex"},{default:a(()=>[e.route.query.tab!="column"?(i(),b(e.NTag,{key:0,size:"small"},{default:a(()=>[h(x(e.t[t.item.type]),1)]),_:1})):z("",!0),d("span",W,x(t.item.title),1),n(e.NButton,{type:"primary",size:"tiny",class:"ml-auto",onClick:e.open},{default:a(()=>[X]),_:1})]),_:1})]),_:1})}var Z=P(M,[["render",Y]]);const $={__name:"[page]",async setup(u,{expose:_}){_();let t,e;const r=w(),c=S(r.query.tab||"course");j({title:"\u5B66\u4E60\u8BB0\u5F55"});const o=[{label:"\u8BFE\u7A0B",value:"course"},{label:"\u4E13\u680F",value:"column"}],l=f=>{B({params:{...r.params,page:1},query:{...r.query,tab:f}})},{page:m,limit:g,pending:s,error:p,refresh:v,rows:U,total:q,handlePageChange:T}=([t,e]=L(()=>E(({page:f,limit:ae})=>V(()=>({type:c.value,page:f})))),t=await t,e(),t),N={route:r,type:c,tabs:o,handleClick:l,page:m,limit:g,pending:s,error:p,refresh:v,rows:U,total:q,handlePageChange:T,NPagination:O};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}},ee={class:"px-3"},te={class:"flex justify-center items-center mt-5 !pb-[1.5rem]"};function oe(u,_,t,e,r,c){const o=F,l=A,m=Z,g=K;return i(),y("div",null,[n(l,null,{default:a(()=>[(i(),y(C,null,k(e.tabs,(s,p)=>n(o,{active:e.type===s.value,key:p,onClick:v=>e.handleClick(s.value)},{default:a(()=>[h(x(s.label),1)]),_:2},1032,["active","onClick"])),64))]),_:1}),n(g,{pending:e.pending,error:e.error,isEmpty:e.rows.length===0},{default:a(()=>[d("div",ee,[(i(!0),y(C,null,k(e.rows,(s,p)=>(i(),b(m,{key:p,item:s},null,8,["item"]))),128))]),d("div",te,[n(e.NPagination,{size:"large","item-count":e.total,page:e.page,"page-size":e.limit,"on-update:page":e.handlePageChange},null,8,["item-count","page","page-size","on-update:page"])])]),_:1},8,["pending","error","isEmpty"])])}var be=P($,[["render",oe]]);export{be as default};
