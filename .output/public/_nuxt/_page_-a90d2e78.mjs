import{_ as L,a as S,r as b,bq as T,w as U,W as z,D as E,o as l,e as f,i as y,t as k,h as a,d as n,g as C,F as N,f as w,n as I,b as V}from"./entry-21db2f40.mjs";import{u as j,N as A}from"./Pagination-2bc07178.mjs";import{c as D}from"./common-39bc1520.mjs";import{a as F,_ as R}from"./Tab-9b83bf34.mjs";import{_ as H}from"./CourseSkeleton-aeaa60b6.mjs";import{_ as O}from"./CourseList-311e2910.mjs";import{_ as W}from"./Group-1cd53dfb.mjs";import{N as J,a as K}from"./Grid-87bc6c3f.mjs";import"./use-locale-d1b818a5.mjs";import"./use-merged-state-aa6f3d5b.mjs";import"./Input-16e77b41.mjs";import"./Popover-ea85df19.mjs";import"./get-bc1ef6a5.mjs";import"./next-frame-once-08317937.mjs";import"./Tag-06ce51bd.mjs";import"./create-f83f90a7.mjs";import"./Price-f7b39efa.mjs";import"./get-slot-f07f150d.mjs";const M={__name:"[page]",async setup(G,{expose:h}){h();let r,e;const t=S(),s=b(t.query.keyword),c=b(t.params.type);T({title:s});const m=[{label:"\u8BFE\u7A0B",value:"course"},{label:"\u4E13\u680F",value:"column"}],p=_=>{I({params:{...t.params,type:_},query:{...t.query}})},{page:u,limit:d,pending:o,error:i,refresh:g,rows:P,total:q,handlePageChange:B}=([r,e]=U(()=>j(({page:_,limit:ee})=>D(()=>({type:c.value,page:_,keyword:encodeURIComponent(s.value)})))),r=await r,e(),r),v=z(()=>t.query.keyword,_=>{s.value=_,g()});E(()=>{v()});const x={route:t,title:s,type:c,tabs:m,handleClick:p,page:u,limit:d,pending:o,error:i,refresh:g,rows:P,total:q,handlePageChange:B,stop:v,NGrid:J,NGi:K,NPagination:A};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}},Q={class:"text-lg my-3"},X={class:"text-orange-400"},Y=C("\u7684\u641C\u7D22\u7ED3\u679C: "),Z={class:"flex justify-center items-center mt-5 mb-10"};function $(G,h,r,e,t,s){const c=R,m=F,p=H,u=O,d=W;return l(),f("div",null,[y("h4",Q,[y("b",X,k(e.title),1),Y]),a(m,null,{default:n(()=>[(l(),f(N,null,w(e.tabs,(o,i)=>a(c,{active:e.type===o.value,key:i,onClick:g=>e.handleClick(o.value)},{default:n(()=>[C(k(o.label),1)]),_:2},1032,["active","onClick"])),64))]),_:1}),a(d,{pending:e.pending,error:e.error,isEmpty:e.rows.length===0},{loading:n(()=>[a(p)]),default:n(()=>[a(e.NGrid,{"x-gap":20,cols:4},{default:n(()=>[(l(!0),f(N,null,w(e.rows,(o,i)=>(l(),V(e.NGi,{key:i},{default:n(()=>[a(u,{item:o},null,8,["item"])]),_:2},1024))),128))]),_:1}),y("div",Z,[a(e.NPagination,{size:"large","item-count":e.total,page:e.page,"page-size":e.limit,"on-update:page":e.handlePageChange},null,8,["item-count","page","page-size","on-update:page"])])]),_:1},8,["pending","error","isEmpty"])])}var ve=L(M,[["render",$]]);export{ve as default};
